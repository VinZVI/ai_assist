# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é AI-–ö–æ–º–ø–∞–Ω—å–æ–Ω

## üìã –û–±–∑–æ—Ä

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ AI-–ö–æ–º–ø–∞–Ω—å–æ–Ω, –≤–∫–ª—é—á–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–µ—Å—Ç–æ–≤, –∫–∞—Ä—Ç—É –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞, –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤.

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-09-20  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-09-25  
**–û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞:** 68% (560/1752 —Å—Ç—Ä–æ–∫ –Ω–µ –ø–æ–∫—Ä—ã—Ç—ã)

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

### –ö–æ—Ä–Ω–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
tests/
‚îú‚îÄ‚îÄ __init__.py                 # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ conftest.py                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest –∏ –æ–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ unit/                      # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ test_config.py         # –¢–µ—Å—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (9.8KB)
‚îÇ   ‚îî‚îÄ‚îÄ test_models.py         # –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö (20.4KB)
‚îú‚îÄ‚îÄ integration/               # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ test_ai_service.py     # –¢–µ—Å—Ç—ã AI —Å–µ—Ä–≤–∏—Å–∞ (18.0KB)
‚îÇ   ‚îú‚îÄ‚îÄ test_database.py       # –¢–µ—Å—Ç—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (17.3KB)
‚îÇ   ‚îî‚îÄ‚îÄ test_message_handler.py # –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (22.4KB)
‚îî‚îÄ‚îÄ fixtures/                  # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —Ñ–∏–∫—Å—Ç—É—Ä—ã
    ‚îî‚îÄ‚îÄ __init__.py

scripts/
‚îú‚îÄ‚îÄ checks/                    # –°–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ test_config_simple.py  # –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (3.3KB)
‚îÇ   ‚îú‚îÄ‚îÄ test_db_connection.py  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î (4.3KB)
‚îÇ   ‚îî‚îÄ‚îÄ test_openrouter_integration.py # –ü—Ä–æ–≤–µ—Ä–∫–∞ OpenRouter (5.6KB)
‚îî‚îÄ‚îÄ diagnostics/               # –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã
    ‚îú‚îÄ‚îÄ check_deepseek_api.py  # –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ DeepSeek API (8.8KB)
    ‚îî‚îÄ‚îÄ check_imports.py       # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ (1.8KB)
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤

#### üî¨ –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã (`tests/unit/`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –∏–∑–æ–ª—è—Ü–∏–∏
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –ë—ã—Å—Ç—Ä—ã–µ, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –º–æ–∫–∏ –¥–ª—è –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤
- **–§–∞–π–ª—ã**: test_config.py, test_models.py

#### üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (`tests/integration/`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –ú–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î/API
- **–§–∞–π–ª—ã**: test_ai_service.py, test_database.py, test_message_handler.py

#### ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ (`scripts/checks/`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

#### üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã (`scripts/diagnostics/`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ì–ª—É–±–æ–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏

---

## üìä –ö–∞—Ä—Ç–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü–æ–∫—Ä—ã—Ç–∏–µ | –°—Ç—Ä–æ–∫ –ø–æ–∫—Ä—ã—Ç–æ | –í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ | –°—Ç–∞—Ç—É—Å |
|-----------|----------|---------------|-------------|---------|
| **–û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** | **51%** | **898** | **1752** | üü° –ß–∞—Å—Ç–∏—á–Ω–æ |

### –î–µ—Ç–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –ø–æ –º–æ–¥—É–ª—è–º

#### ‚úÖ –í—ã—Å–æ–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (80-100%)

| –ú–æ–¥—É–ª—å | –ü–æ–∫—Ä—ã—Ç–∏–µ | –°—Ç—Ä–æ–∫ –Ω–µ –ø–æ–∫—Ä—ã—Ç–æ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|--------|----------|------------------|-------------|
| `app/__init__.py` | 100% | 0/3 | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç–æ |
| `app/handlers/__init__.py` | 100% | 0/5 | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç–æ |
| `app/keyboards/__init__.py` | 100% | 0/2 | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç–æ |
| `app/models/__init__.py` | 100% | 0/4 | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç–æ |
| `app/services/__init__.py` | 100% | 0/2 | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç–æ |
| `app/services/ai_providers/__init__.py` | 100% | 0/4 | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç–æ |
| `app/utils/__init__.py` | 100% | 0/0 | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç–æ |
| `app/database.py` | 90% | 14/137 | ‚úÖ –•–æ—Ä–æ—à–æ –ø–æ–∫—Ä—ã—Ç–æ |
| `app/config.py` | 89% | 28/254 | ‚úÖ –•–æ—Ä–æ—à–æ –ø–æ–∫—Ä—ã—Ç–æ |
| `app/models/conversation.py` | 82% | 21/114 | ‚úÖ –•–æ—Ä–æ—à–æ –ø–æ–∫—Ä—ã—Ç–æ |

#### üü° –°—Ä–µ–¥–Ω–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (50-79%)

| –ú–æ–¥—É–ª—å | –ü–æ–∫—Ä—ã—Ç–∏–µ | –°—Ç—Ä–æ–∫ –Ω–µ –ø–æ–∫—Ä—ã—Ç–æ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|--------|----------|------------------|-------------|
| `app/models/user.py` | 71% | 28/97 | üü° –ù—É–∂–¥–∞–µ—Ç—Å—è –≤ –¥–æ—Ä–∞–±–æ—Ç–∫–µ |
| `app/services/ai_service.py` | 67% | 61/185 | üü° –ù—É–∂–¥–∞–µ—Ç—Å—è –≤ –¥–æ—Ä–∞–±–æ—Ç–∫–µ |
| `app/services/ai_providers/base.py` | 65% | 26/74 | üü° –ù—É–∂–¥–∞–µ—Ç—Å—è –≤ –¥–æ—Ä–∞–±–æ—Ç–∫–µ |
| `app/utils/logging.py` | 59% | 23/56 | üü° –ù—É–∂–¥–∞–µ—Ç—Å—è –≤ –¥–æ—Ä–∞–±–æ—Ç–∫–µ |

#### üî¥ –ù–∏–∑–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (0-49%)

| –ú–æ–¥—É–ª—å | –ü–æ–∫—Ä—ã—Ç–∏–µ | –°—Ç—Ä–æ–∫ –Ω–µ –ø–æ–∫—Ä—ã—Ç–æ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------|----------|------------------|-----------|
| `app/handlers/callbacks.py` | 28% | 84/116 | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –Ω–∏–∑–∫–æ |
| `app/handlers/message.py` | 26% | 95/129 | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –Ω–∏–∑–∫–æ |
| `app/keyboards/inline.py` | 23% | 43/56 | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –Ω–∏–∑–∫–æ |
| `app/handlers/start.py` | 20% | 68/85 | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –Ω–∏–∑–∫–æ |
| `app/services/ai_manager.py` | 18% | 145/177 | üî¥ **–ü–†–ò–û–†–ò–¢–ï–¢ 1** |
| `app/services/ai_providers/deepseek.py` | 13% | 109/126 | üî¥ **–ü–†–ò–û–†–ò–¢–ï–¢ 2** |
| `app/services/ai_providers/openrouter.py` | 13% | 109/126 | üî¥ **–ü–†–ò–û–†–ò–¢–ï–¢ 3** |

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑ –ø–æ–∫—Ä—ã—Ç–∏—è

#### üö® –í—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

1. **`app/services/ai_manager.py` (18% –ø–æ–∫—Ä—ã—Ç–∏—è)**
   - **–§—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –ø–æ–∫—Ä—ã—Ç–∏—è**: 
     - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è AIManager
     - –ú–µ—Ö–∞–Ω–∏–∑–º fallback –º–µ–∂–¥—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
     - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
     - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
     - Health check –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
   - **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ö–ª—é—á–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

2. **`app/services/ai_providers/openrouter.py` (13% –ø–æ–∫—Ä—ã—Ç–∏—è)**
   - **–§—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –ø–æ–∫—Ä—ã—Ç–∏—è**:
     - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è OpenRouter –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
     - HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ OpenRouter API
     - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API (401, 402, 429, 5xx)
     - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
   - **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –û—Å–Ω–æ–≤–Ω–æ–π –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

3. **`app/services/ai_providers/deepseek.py` (13% –ø–æ–∫—Ä—ã—Ç–∏—è)**
   - **–§—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –ø–æ–∫—Ä—ã—Ç–∏—è**:
     - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ DeepSeek –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
     - HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ DeepSeek API
     - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API
     - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
   - **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

#### üî• –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

4. **`app/handlers/message.py` (26% –ø–æ–∫—Ä—ã—Ç–∏—è)**
   - **–§—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –ø–æ–∫—Ä—ã—Ç–∏—è**:
     - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–æ–≤—ã–º AIManager
     - –û–±—Ä–∞–±–æ—Ç–∫–∞ fallback –ª–æ–≥–∏–∫–∏
     - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
     - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–≤
   - **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

5. **`app/handlers/callbacks.py` (28% –ø–æ–∫—Ä—ã—Ç–∏—è)**
   - **–§—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –ø–æ–∫—Ä—ã—Ç–∏—è**:
     - Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
     - Callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
     - –ü—Ä–µ–º–∏—É–º —Ñ—É–Ω–∫—Ü–∏–∏
   - **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üß™ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–µ—Å—Ç–∞–º

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤ | –°—Ç–∞—Ç—É—Å |
|-----------|-------------------|---------|
| **–í—Å–µ–≥–æ —Å–æ–±—Ä–∞–Ω–æ** | 183 —Ç–µ—Å—Ç–æ–≤ | ‚úÖ |
| **–ü—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ** | 94 —Ç–µ—Å—Ç–æ–≤ | ‚úÖ |
| **–ü—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å** | 22 —Ç–µ—Å—Ç–æ–≤ | ‚ùå |
| **–ü—Ä–æ–ø—É—â–µ–Ω—ã** | 7 —Ç–µ—Å—Ç–æ–≤ | ‚è≠Ô∏è |
| **–û—à–∏–±–∫–∏** | 60 —Ç–µ—Å—Ç–æ–≤ | üí• |

### –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —Ñ–∞–π–ª–∞–º

#### üìÅ tests/unit/test_config.py
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤**: 11
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**:
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å .env.example —Ñ–∞–π–ª–æ–º
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π Pydantic
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º

#### üìÅ tests/unit/test_models.py  
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤**: 25
- **–°—Ç–∞—Ç—É—Å**: üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**:
  - –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏ SQLAlchemy
  - –ü—Ä–æ–±–ª–µ–º—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ —Ñ–∏–∫—Å—Ç—É—Ä–∞–º–∏
  - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π –≤ User –º–æ–¥–µ–ª–∏
  - –ü—Ä–æ–±–ª–µ–º—ã —Å Pydantic —Å—Ö–µ–º–∞–º–∏

#### üìÅ tests/integration/test_ai_service.py
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤**: 29  
- **–°—Ç–∞—Ç—É—Å**: üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**:
  - –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –¥–ª—è —Å—Ç–∞—Ä–æ–≥–æ AIService, –Ω–µ AIManager
  - –ú–æ–∫–∏ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
  - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ pytest.mark.asyncio
  - –ü—Ä–æ–±–ª–µ–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### üìÅ tests/integration/test_database.py
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤**: 24
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**:
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å async context managers
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–æ–∫–∏ –¥–ª—è SQLAlchemy
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —ç–∫—Å–ø–æ—Ä—Ç—ã –º–æ–¥—É–ª–µ–π

#### üìÅ tests/integration/test_message_handler.py
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤**: 22
- **–°—Ç–∞—Ç—É—Å**: üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**:
  - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã (mock_session)
  - –¢–µ—Å—Ç—ã –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ –Ω–æ–≤—É—é AI –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
  - –ü—Ä–æ–±–ª–µ–º—ã —Å –∏–º–ø–æ—Ä—Ç–∞–º–∏
  - –ü—Ä–æ–±–ª–µ–º—ã —Å –º–æ–∫–∞–º–∏ Telegram —Å–æ–æ–±—â–µ–Ω–∏–π

#### üìÅ scripts/checks/*
- **–°—Ç–∞—Ç—É—Å**: üî¥ –ù–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- **–ü—Ä–æ–±–ª–µ–º—ã**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ pytest
  - –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

---

## üìù –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞

```python
"""
@file: test_example.py
@description: –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
@dependencies: pytest, pytest-asyncio, unittest.mock
@created: YYYY-MM-DD
"""

import pytest
from unittest.mock import AsyncMock, MagicMock, patch

from app.module import ComponentToTest


class TestComponentName:
    """–¢–µ—Å—Ç—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞."""
    
    @pytest.fixture
    def mock_dependency(self):
        """–§–∏–∫—Å—Ç—É—Ä–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏."""
        return MagicMock()
    
    @pytest.mark.asyncio 
    async def test_method_success(self, mock_dependency):
        """–¢–µ—Å—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞."""
        # Arrange
        # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–∫–æ–≤
        
        # Act
        # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
        
        # Assert
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        assert result == expected
```

### 2. üé≠ –ú–æ–∫–∏ –∏ —Ñ–∏–∫—Å—Ç—É—Ä—ã

#### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –≤ conftest.py:

```python
@pytest.fixture
def mock_config():
    """–ú–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏."""
    return MagicMock()

@pytest.fixture  
def mock_db_session():
    """–ú–æ–∫ —Å–µ—Å—Å–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö."""
    return AsyncMock()

@pytest.fixture
def sample_user():
    """–ü—Ä–∏–º–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤."""
    return User(telegram_id=12345, username="test_user")
```

### 3. ‚ö° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

```python
@pytest.mark.asyncio
async def test_async_function():
    """–¢–µ—Å—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏."""
    result = await async_function()
    assert result is not None
```

### 4. üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

```python
def test_error_handling():
    """–¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫."""
    with pytest.raises(CustomException):
        function_that_should_raise()
```

### 5. üéØ –ú–æ–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤

```python
@patch('httpx.AsyncClient.post')
async def test_api_call(mock_post):
    """–¢–µ—Å—Ç API –∑–∞–ø—Ä–æ—Å–∞."""
    mock_post.return_value.status_code = 200
    mock_post.return_value.json.return_value = {"result": "success"}
    
    result = await api_function()
    assert result["result"] == "success"
```

---

## üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—é —Ç–µ—Å—Ç–æ–≤

### –î–ª—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

1. **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª**: `tests/unit/test_component.py` –∏–ª–∏ `tests/integration/test_component.py`
2. **–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: pytest, unittest.mock, —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –º–æ–¥—É–ª–∏
3. **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–ª–∞—Å—Å**: `TestComponentName`
4. **–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–∫—Å—Ç—É—Ä—ã**: –º–æ–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
5. **–ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã**: –ø–æ –æ–¥–Ω–æ–º—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞/—Å—Ü–µ–Ω–∞—Ä–∏—è
6. **–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä–∫–µ—Ä—ã**: @pytest.mark.asyncio –¥–ª—è async —Ñ—É–Ω–∫—Ü–∏–π

### –î–ª—è AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

```python
class TestAIProvider:
    """–¢–µ—Å—Ç—ã –¥–ª—è AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞."""
    
    @pytest.fixture
    def mock_http_client(self):
        """–ú–æ–∫ HTTP –∫–ª–∏–µ–Ω—Ç–∞."""
        return AsyncMock()
    
    @pytest.mark.asyncio
    async def test_generate_response_success(self, mock_http_client):
        """–¢–µ—Å—Ç —É—Å–ø–µ—à–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞."""
        # –ú–æ–∫ HTTP –æ—Ç–≤–µ—Ç–∞
        mock_response = MagicMock()
        mock_response.status_code = 200
        mock_response.json.return_value = {
            "choices": [{"message": {"content": "AI response"}}],
            "usage": {"total_tokens": 50}
        }
        mock_http_client.post.return_value = mock_response
        
        # –¢–µ—Å—Ç
        provider = AIProvider()
        response = await provider.generate_response(messages)
        
        assert response.content == "AI response"
        assert response.tokens_used == 50
```

### –î–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ Telegram

```python
@pytest.mark.asyncio
async def test_message_handler(mock_message, mock_user):
    """–¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π."""
    mock_message.text = "Hello AI"
    mock_message.from_user.id = 12345
    
    with patch('app.handlers.message.get_ai_manager') as mock_manager:
        mock_manager.return_value.generate_response.return_value = AIResponse(
            content="Hello user!", 
            model="test-model",
            tokens_used=10,
            response_time=0.5
        )
        
        await handle_text_message(mock_message)
        
        mock_message.answer.assert_called_once()
        assert "Hello user!" in mock_message.answer.call_args[1]["text"]
```

---

## ‚öôÔ∏è –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
uv run pytest

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞  
uv run pytest --cov=app --cov-report=term-missing

# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤
uv run pytest tests/unit/

# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
uv run pytest tests/integration/

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
uv run pytest tests/unit/test_config.py

# –ó–∞–ø—É—Å–∫ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
uv run pytest -v

# –ó–∞–ø—É—Å–∫ –±—ã—Å—Ç—Ä—ã—Ö —Ç–µ—Å—Ç–æ–≤ (–±–µ–∑ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö)
uv run pytest -m "not slow"

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –æ—Ç—á–µ—Ç–∞ –ø–æ–∫—Ä—ã—Ç–∏—è
uv run pytest --cov=app --cov-report=html
```

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏
uv run python scripts/checks/test_config_simple.py
uv run python scripts/checks/test_db_connection.py  
uv run python scripts/checks/test_openrouter_integration.py

# –ó–∞–ø—É—Å–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
uv run python scripts/diagnostics/check_deepseek_api.py
uv run python scripts/diagnostics/check_imports.py
```

---

## üéØ –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

### –≠—Ç–∞–ø 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1) ‚úÖ –ó–ê–í–ï–†–®–ï–ù

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã**:
   - ‚úÖ –£—Å—Ç—Ä–∞–Ω–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
   - ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å —Ñ–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
   - ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –∏ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º
   - ‚úÖ –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

2. **–û–±–Ω–æ–≤–∏—Ç—å conftest.py**:
   - –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è AIManager
   - –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤  
   - –û–±–Ω–æ–≤–∏—Ç—å –º–æ–∫–∏ –¥–ª—è –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2) üîÑ –í –ü–†–û–¶–ï–°–°–ï

1. **–¢–µ—Å—Ç—ã –¥–ª—è AI Manager** (18% ‚Üí 80%):
   - test_ai_manager_initialization.py
   - test_fallback_logic.py
   - test_provider_switching.py
   - test_statistics_tracking.py

2. **–¢–µ—Å—Ç—ã –¥–ª—è AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤** (13% ‚Üí 75%):
   - test_openrouter_provider.py
   - test_deepseek_provider.py  
   - test_base_provider.py
   - test_error_handling.py

3. **–¢–µ—Å—Ç—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤** (26% ‚Üí 70%):
   - –û–±–Ω–æ–≤–∏—Ç—å test_message_handler.py
   - –°–æ–∑–¥–∞—Ç—å test_callbacks_handler.py
   - –°–æ–∑–¥–∞—Ç—å test_start_handler.py

### –≠—Ç–∞–ø 3: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)

1. **–¢–µ—Å—Ç—ã –¥–ª—è —É—Ç–∏–ª–∏—Ç**:
   - test_logging.py
   - test_keyboards.py

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã**:
   - test_full_bot_workflow.py
   - test_database_integration.py
   - test_external_api_integration.py

### –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

| –≠—Ç–∞–ø | –¶–µ–ª–µ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ | –°—Ä–æ–∫ |
|------|------------------|------|
| –≠—Ç–∞–ø 1 | 60% | ‚úÖ –î–æ—Å—Ç–∏–≥–Ω—É—Ç (68%) |
| –≠—Ç–∞–ø 2 | 75% | 2 –Ω–µ–¥–µ–ª–∏ |  
| –≠—Ç–∞–ø 3 | 85% | 3 –Ω–µ–¥–µ–ª–∏ |

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [pytest –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.pytest.org/)
- [pytest-asyncio](https://pytest-asyncio.readthedocs.io/)
- [unittest.mock](https://docs.python.org/3/library/unittest.mock.html)
- [Coverage.py](https://coverage.readthedocs.io/)

### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–û–¥–∏–Ω —Ç–µ—Å—Ç - –æ–¥–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞**: –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
2. **–û–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞**: `test_user_creation_with_valid_data` –ª—É—á—à–µ —á–µ–º `test_user_1`
3. **AAA –ø–∞—Ç—Ç–µ—Ä–Ω**: Arrange (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞) ‚Üí Act (–¥–µ–π—Å—Ç–≤–∏–µ) ‚Üí Assert (–ø—Ä–æ–≤–µ—Ä–∫–∞)
4. **–ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤**: –¢–µ—Å—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞
5. **–ú–æ–∫–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: API, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

### –ú–∞—Ä–∫–µ—Ä—ã pytest

```python
@pytest.mark.unit          # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç
@pytest.mark.integration   # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç  
@pytest.mark.asyncio       # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç
@pytest.mark.slow          # –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç
@pytest.mark.database      # –¢—Ä–µ–±—É–µ—Ç –ë–î
@pytest.mark.api           # –¢—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–µ–µ API
```

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞: 2025-09-25*  
*–í–µ—Ä—Å–∏—è: 1.0.0*  
*–ê–≤—Ç–æ—Ä: AI Assistant*